<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Envagrow - Sustainable Waste Management</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Poppins', sans-serif; }
        .glass-effect {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        .float-animation { animation: float 6s ease-in-out infinite; }
        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #4ade80;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-green-50 to-emerald-100">
    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="fixed inset-0 z-50 hidden bg-white bg-opacity-90 flex items-center justify-center">
        <div class="text-center">
            <div class="loading-spinner mx-auto mb-4"></div>
            <p class="text-green-600 font-medium">Processing...</p>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="p-4 glass-effect fixed w-full z-40">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center gap-2">
                <img src="https://images.unsplash.com/photo-1580740385014-36b646dad422" alt="Envagrow Logo" class="h-12 w-12 object-cover rounded-lg">
                <span class="text-2xl font-bold bg-gradient-to-r from-green-600 to-emerald-500 bg-clip-text text-transparent">
                    Envagrow
                </span>
            </div>
            
            <div class="hidden md:flex items-center space-x-8">
                <a href="#" class="text-green-800 hover:text-green-600 transition">Home</a>
                <a href="#" class="text-green-800 hover:text-green-600 transition">About</a>
                <a href="#" class="text-green-800 hover:text-green-600 transition">Services</a>
                <a href="#" class="text-green-800 hover:text-green-600 transition">Contact</a>
                <button onclick="showLoginModal()" class="bg-green-600 text-white px-6 py-2 rounded-full hover:bg-green-700 transition shadow-lg">
                    Login
                </button>
            </div>

            <button onclick="toggleMobileMenu()" class="md:hidden text-green-800">
                <i class="bi bi-list text-3xl"></i>
            </button>

            <img src="https://images.unsplash.com/photo-1585504198199-20277593b94f" alt="AMC Logo" class="h-12 w-12 object-cover rounded-lg">
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobileMenu" class="fixed top-0 right-0 h-full w-full md:w-64 bg-white transform translate-x-full transition-transform duration-300 z-30 shadow-lg">
        <div class="p-6">
            <div class="flex justify-end">
                <button onclick="toggleMobileMenu()" class="text-2xl text-gray-600">Ã—</button>
            </div>
            <div class="flex flex-col space-y-4 mt-8">
                <a href="#" class="text-green-800 hover:text-green-600 py-2 px-4 rounded-lg hover:bg-green-50 transition">Home</a>
                <a href="#" class="text-green-800 hover:text-green-600 py-2 px-4 rounded-lg hover:bg-green-50 transition">About</a>
                <a href="#" class="text-green-800 hover:text-green-600 py-2 px-4 rounded-lg hover:bg-green-50 transition">Services</a>
                <a href="#" class="text-green-800 hover:text-green-600 py-2 px-4 rounded-lg hover:bg-green-50 transition">Contact</a>
                <button onclick="showLoginModal()" class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition">
                    Login
                </button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="pt-28 pb-12 px-4">
        <div class="container mx-auto">
            <div class="flex flex-wrap items-center">
                <div class="w-full lg:w-1/2 mb-12 lg:mb-0">
                    <h1 class="text-4xl md:text-6xl font-bold text-green-800 mb-6 leading-tight">
                        Transform Waste into <span class="text-green-600">Sustainable Value</span>
                    </h1>
                    <p class="text-lg text-gray-600 mb-8 leading-relaxed max-w-xl">
                        Join Envagrow's revolutionary initiative with AMC to make Ahmedabad cleaner and greener. 
                        Earn rewards for your contribution to waste management while helping build a sustainable future.
                    </p>
                    <div class="flex flex-wrap gap-4">
                        <button onclick="showLoginModal()" class="bg-green-600 text-white px-8 py-3 rounded-full hover:bg-green-700 transition shadow-lg flex items-center">
                            <i class="bi bi-person-plus mr-2"></i> Get Started
                        </button>
                        <button onclick="window.location.href='#learn-more'" class="border-2 border-green-600 text-green-600 px-8 py-3 rounded-full hover:bg-green-600 hover:text-white transition flex items-center">
                            <i class="bi bi-info-circle mr-2"></i> Learn More
                        </button>
                    </div>
                </div>
                <div class="w-full lg:w-1/2">
                    <img src="https://images.unsplash.com/photo-1532996122724-e3c354a0b15b" 
                         alt="Environmental Impact" 
                         class="rounded-2xl shadow-2xl float-animation mx-auto"
                         style="max-width: 90%;">
                </div>
            </div>
        </div>
    </main>

    <!-- Login/Register Modal -->
    <div id="loginModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-2xl shadow-2xl w-full max-w-md relative">
                <button onclick="hideLoginModal()" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700">
                    <i class="bi bi-x-lg"></i>
                </button>
                
                <div class="p-8">
                    <h2 class="text-3xl font-bold text-green-800 mb-6 text-center">Welcome Back</h2>
                    
                    <!-- Login/Register Toggle -->
                    <div class="flex rounded-lg bg-gray-100 p-1 mb-6">
                        <button onclick="switchForm('login')" id="loginBtn" 
                                class="flex-1 py-2 rounded-lg font-medium transition">
                            Login
                        </button>
                        <button onclick="switchForm('register')" id="registerBtn"
                                class="flex-1 py-2 rounded-lg font-medium transition">
                            Register
                        </button>
                    </div>

                    <!-- User Type Selection -->
                    <div class="mb-6">
                        <select id="userType" class="w-full p-3 border rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500">
                            <option value="user">User</option>
                            <option value="amc_office">AMC Office</option>
                            <option value="amc_worker">AMC Worker</option>
                        </select>
                    </div>

                    <!-- Login Form -->
                    <form id="loginForm" class="space-y-4">
                        <div>
                            <label class="text-sm text-gray-600">Email</label>
                            <input type="email" required
                                   class="w-full p-3 border rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500"
                                   placeholder="Enter your email">
                        </div>
                        <div>
                            <label class="text-sm text-gray-600">Password</label>
                            <input type="password" required
                                   class="w-full p-3 border rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500"
                                   placeholder="Enter your password">
                        </div>
                        <button type="button" onclick="handleLogin()"
                                class="w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition">
                            <i class="bi bi-box-arrow-in-right mr-2"></i>Login
                        </button>
                    </form>

                    <!-- Register Form -->
                    <form id="registerForm" class="space-y-4 hidden">
                        <div>
                            <label class="text-sm text-gray-600">Full Name</label>
                            <input type="text" required
                                   class="w-full p-3 border rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500"
                                   placeholder="Enter your full name">
                        </div>
                        <div>
                            <label class="text-sm text-gray-600">Email</label>
                            <input type="email" required
                                   class="w-full p-3 border rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500"
                                   placeholder="Enter your email">
                        </div>
                        <div>
                            <label class="text-sm text-gray-600">Password</label>
                            <input type="password" required
                                   class="w-full p-3 border rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500"
                                   placeholder="Create a password">
                        </div>
                        <div>
                            <label class="text-sm text-gray-600">Confirm Password</label>
                            <input type="password" required
                                   class="w-full p-3 border rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500"
                                   placeholder="Confirm your password">
                        </div>
                        <button type="button" onclick="handleRegister()"
                                class="w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition">
                            <i class="bi bi-person-plus mr-2"></i>Register
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Mobile menu functionality
        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            menu.classList.toggle('translate-x-full');
        }

        // Loading overlay functionality
        function showLoading() {
            document.getElementById('loadingOverlay').classList.remove('hidden');
        }

        function hideLoading() {
            document.getElementById('loadingOverlay').classList.add('hidden');
        }

        // Login modal functionality
        function showLoginModal() {
            document.getElementById('loginModal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function hideLoginModal() {
            document.getElementById('loginModal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // Form switching functionality
        function switchForm(formType) {
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');
            const loginBtn = document.getElementById('loginBtn');
            const registerBtn = document.getElementById('registerBtn');

            if (formType === 'login') {
                loginForm.classList.remove('hidden');
                registerForm.classList.add('hidden');
                loginBtn.classList.add('bg-white', 'shadow-md');
                registerBtn.classList.remove('bg-white', 'shadow-md');
            } else {
                loginForm.classList.add('hidden');
                registerForm.classList.remove('hidden');
                registerBtn.classList.add('bg-white', 'shadow-md');
                loginBtn.classList.remove('bg-white', 'shadow-md');
            }
        }

        // Initialize the active tab
        switchForm('login');

        // Generate unique user ID
        function generateUserId() {
            return 'user_' + Math.random().toString(36).substr(2, 9);
        }

        // Handle login
        async function handleLogin() {
            showLoading();
            const userType = document.getElementById('userType').value;
            
            try {
                const response = await fetch('https://r0c8kgwocscg8gsokogwwsw4.zetaverse.one/mongodb', {
                    method: 'POST',
                    headers: {
                        'Authorization': 'Bearer b49JFfeIkQYxNh1j3QWaDUwymWQ2',
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        appSlug: 'envagrow-123',
                        action: 'read',
                        collection: 'users',
                        conditions: {
                            userType: userType
                        }
                    })
                });

                const dashboardUrls = {
                    user: '/user-dashboard',
                    amc_office: '/amc-office-dashboard',
                    amc_worker: '/amc-worker-dashboard'
                };

                // Simulate successful login
                setTimeout(() => {
                    hideLoading();
                    alert(`Successfully logged in as ${userType}`);
                    // In a real app, redirect to respective dashboard
                    console.log(`Redirecting to ${dashboardUrls[userType]}`);
                }, 1500);

            } catch (error) {
                hideLoading();
                alert('Login failed. Please try again.');
                console.error('Login error:', error);
            }
        }

        // Handle registration
        async function handleRegister() {
            showLoading();
            const userType = document.getElementById('userType').value;
            const userId = generateUserId();

            try {
                const response = await fetch('https://r0c8kgwocscg8gsokogwwsw4.zetaverse.one/mongodb', {
                    method: 'POST',
                    headers: {
                        'Authorization': 'Bearer b49JFfeIkQYxNh1j3QWaDUwymWQ2',
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        appSlug: 'envagrow-123',
                        action: 'create',
                        collection: 'users',
                        data: {
                            userId: userId,
                            userType: userType,
                            createdAt: new Date().toISOString()
                        }
                    })
                });

                setTimeout(() => {
                    hideLoading();
                    alert('Registration successful! Please login to continue.');
                    switchForm('login');
                }, 1500);

            } catch (error) {
                hideLoading();
                alert('Registration failed. Please try again.');
                console.error('Registration error:', error);
            }
        }
    </script>
<script>document.body.addEventListener('wheel', e => { if (!e.ctrlKey) return; e.preventDefault(); return }, { passive: false })</script>
	</body>
</html>